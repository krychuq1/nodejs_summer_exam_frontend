<div class="create-task">
  <h3 *ngIf="!processing.isProcessing">Create task:</h3>
  <mat-spinner class="spinner" *ngIf="processing.isProcessing"></mat-spinner>

  <div class="done" *ngIf="processing.isCompleted">
    <h3>You created task! Click <span class="action" routerLink="">here</span> and check your dashboard</h3>
  </div>
  <div class="error" *ngIf="processing.isError">
    <h3>We failed! :(</h3>
  </div>
  <form *ngIf="!processing.isProcessing && !processing.isCompleted" [formGroup]="taskForm" (ngSubmit)="onSubmitForm()">
    <mat-form-field class="example-full-width block">
      <input matInput formControlName="title" type="text" placeholder="title">
      <div *ngIf="titleControl.errors && titleControl.touched">
        <mat-error *ngIf="titleControl.errors.required">title is required</mat-error>
        <mat-error *ngIf="titleControl.errors.minlength">title should be at least
          {{titleControl.errors.minlength.requiredLength}} characters.</mat-error>
      </div>
    </mat-form-field>
    <mat-form-field class="example-full-width block">
      <textarea matInput formControlName="description" type="text" placeholder="description"></textarea>
      <div *ngIf="descriptionControl.errors && descriptionControl.touched">
        <mat-error *ngIf="descriptionControl.errors.required">description is required</mat-error>
        <mat-error *ngIf="descriptionControl.errors.minlength">description should be at least
          {{descriptionControl.errors.minlength.requiredLength}} characters.</mat-error>
      </div>
    </mat-form-field>
    <mat-form-field class="example-full-width block">
      <input matInput formControlName="author" type="text" placeholder="author">
      <div *ngIf="authorControl.errors && authorControl.touched">
        <mat-error *ngIf="authorControl.errors.required">title is required</mat-error>
        <mat-error *ngIf="authorControl.errors.minlength">title should be at least
          {{authorControl.errors.minlength.requiredLength}} characters.</mat-error>
      </div>
    </mat-form-field>

    <button type="submit" class="button" mat-raised-button color="primary" [disabled]="!taskForm.valid">Create</button>
  </form>
</div>
